{"title":"解决打包前端文件到django后端项目中静态文件无法加载出现404的问题","date":"2020-10-11T20:54:57.000Z","date_formatted":{"ll":"2020年10月11日","L":"2020/10/11","MM-DD":"10-11"},"link":"2020/10/11/解决打包前端文件到django后端项目中静态文件无法加载出现404的问题","tags":["django","vue"],"categories":["技术"],"updated":"2022-11-19T15:43:12.598Z","content":"<h4 id=\"1.-运行环境\">1. 运行环境<a title=\"#1.-运行环境\" href=\"#1.-运行环境\"></a></h4>\n<ul>\n<li>后端：Django v2.2、Python v3.7.1</li>\n<li>前端：vue v2.9.6、Node.js v12.18.4、npm v6.14.6（vue-cli 安装参考：<a href=\"https://blog.csdn.net/sinat_33384251/article/details/93127561\" target=\"_blank\">ubuntu</a>、<a href=\"https://blog.csdn.net/muzidigbig/article/details/80490884\" target=\"_blank\">windows</a>）</li>\n</ul>\n<h4 id=\"2.-解决过程\">2. 解决过程<a title=\"#2.-解决过程\" href=\"#2.-解决过程\"></a></h4>\n<h5 id=\"2.1-从github或gitea上下载前端项目文件\">2.1 从github或gitea上下载前端项目文件<a title=\"#2.1-从github或gitea上下载前端项目文件\" href=\"#2.1-从github或gitea上下载前端项目文件\"></a></h5>\n<p> 在django根目录下新建一个文件夹frontend，将下载后解压的前端项目文件放到frontend目录中。</p>\n<h5 id=\"2.2-在frontend目录下创建vue.config.js文件（解决报错的关键步骤）\">2.2 在frontend目录下创建vue.config.js文件（解决报错的关键步骤）<a title=\"#2.2-在frontend目录下创建vue.config.js文件（解决报错的关键步骤）\" href=\"#2.2-在frontend目录下创建vue.config.js文件（解决报错的关键步骤）\"></a></h5>\n<pre><code class=\"language-javascript\">module.exports = &#123;\n    assetsDir: 'static',  # 指定`build`时，在静态文件上一层添加static目录\n&#125;;\n</code></pre>\n<h5 id=\"2.3-在frontend项目下执行&quot;npm-install&quot;安装依赖，执行完成后会多一个node_modules目录\">2.3 在frontend项目下执行&quot;npm install&quot;安装依赖，执行完成后会多一个node_modules目录<a title=\"#2.3-在frontend项目下执行&quot;npm-install&quot;安装依赖，执行完成后会多一个node_modules目录\" href=\"#2.3-在frontend项目下执行&quot;npm-install&quot;安装依赖，执行完成后会多一个node_modules目录\"></a></h5>\n<h5 id=\"2.4-执行&quot;npm-run-build&quot;命令生成打包文件dist（frontend目录下的子目录，chmod-777-/frontend--r）\">2.4 执行&quot;npm run build&quot;命令生成打包文件dist（frontend目录下的子目录，chmod 777 /frontend -R）<a title=\"#2.4-执行&quot;npm-run-build&quot;命令生成打包文件dist（frontend目录下的子目录，chmod-777-/frontend--r）\" href=\"#2.4-执行&quot;npm-run-build&quot;命令生成打包文件dist（frontend目录下的子目录，chmod-777-/frontend--r）\"></a></h5>\n<p> 生成打包文件dist目录后可将之前下载的前端文件都删除。（django项目根目录/frontend/dist）</p>\n<p> 我生成的dist打包文件目录如下：</p>\n<img src=\"https://raw.githubusercontent.com/Nanzet/nanzet-imgs/master/images/20201011213840.png\" style=\"zoom:67%;\" />\n<h5 id=\"2.5-配置settings.py\">2.5 <a href=\"http://xn--settings-vz2ve12k.py\">配置settings.py</a><a title=\"#2.5-配置settings.py\" href=\"#2.5-配置settings.py\"></a></h5>\n<p><img src=\"https://raw.githubusercontent.com/Nanzet/nanzet-imgs/master/images/20201011212346.png\" alt=\"\" loading=\"lazy\" class=\"φbp\"></p>\n<h5 id=\"2.6-django项目根目录下的urls.py的加载模板设置\">2.6 django项目根目录下的urls.py的加载模板设置<a title=\"#2.6-django项目根目录下的urls.py的加载模板设置\" href=\"#2.6-django项目根目录下的urls.py的加载模板设置\"></a></h5>\n<p><img src=\"https://raw.githubusercontent.com/Nanzet/nanzet-imgs/master/images/20201011212530.png\" alt=\"\" loading=\"lazy\" class=\"φbp\"></p>\n<h5 id=\"2.7---运行django服务成功解决\">2.7   运行django服务成功解决<a title=\"#2.7---运行django服务成功解决\" href=\"#2.7---运行django服务成功解决\"></a></h5>\n<img src=\"https://raw.githubusercontent.com/Nanzet/nanzet-imgs/master/images/20201011214139.png\" style=\"zoom:80%;\" />","prev":{"title":"生产环境部署：python+django+nginx+uwsgi+debug=False+关闭django自带的admin后台","link":"2020/10/18/生产环境部署：python-django-nginx-uwsgi-debug-False-关闭django自带的admin后台"},"next":{"title":"小米手环 5 NFC模拟加密IC卡","link":"2020/10/09/小米手环 5 NFC模拟加密IC卡"},"plink":"https://nanzet.cn/2020/10/11/解决打包前端文件到django后端项目中静态文件无法加载出现404的问题/","reward":true,"copyright":{"author":"nanzet","link":"<a href=\"https://nanzet.cn/2020/10/11/解决打包前端文件到django后端项目中静态文件无法加载出现404的问题/\" title=\"解决打包前端文件到django后端项目中静态文件无法加载出现404的问题\">https://nanzet.cn/2020/10/11/解决打包前端文件到django后端项目中静态文件无法加载出现404的问题/</a>","license":"Attribution-NonCommercial-NoDerivatives 4.0 International (<a href=\"https://creativecommons.org/licenses/by-nc-sa/4.0/\" rel=\"external nofollow noopener\" target=\"_blank\">CC BY-NC-ND 4.0</a>)"},"reading_time":"314 字约 2 分钟"}